<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Music Player</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Segoe UI',sans-serif;
}

body{
    height:100vh;
    overflow:hidden;
    color:white;
}

/* ===== VIDEO FUNDO ===== */
.video-bg{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    object-fit:cover;
    z-index:-2;
    filter:brightness(0.6);
}

.overlay{
    position:fixed;
    width:100%;
    height:100%;
    background:linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0.4));
    z-index:-1;
}

/* ===== APP ===== */
.app{
    height:100vh;
    display:flex;
    flex-direction:column;
}

.app h2{
    font-style: italic;
}

/* ===== PLAYLIST ===== */
.playlist-section{
    flex:1;
    padding:20px;
    overflow-y:auto;
}

.playlist-section h2{
    margin-bottom:15px;
    font-weight:600;
}

.music-list{
    display:flex;
    flex-direction:column;
    gap:12px;
}

.music-item{
    background:rgba(255,255,255,0.08);
    backdrop-filter:blur(10px);
    padding:15px;
    border-radius:15px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    transition:0.3s;
}

.music-item:hover{
    background:rgba(255,255,255,0.18);
}

.music-item.active{
    border:1px solid rgb(1, 173, 253);
}

.music-item{
    position:relative;
    overflow:hidden;
}

/* Equalizador animado */
.music-item.active::after{
    content:"";
    position:absolute;
    right:15px;
    top:50%;
    transform:translateY(-50%);
    width:18px;
    height:18px;
    background:linear-gradient(
        to top,
         rgb(1, 173, 253) 0%,
         rgb(1, 173, 253) 20%,
        transparent 20%,
        transparent 40%,
         rgb(1, 173, 253) 40%,
         rgb(1, 173, 253) 60%,
        transparent 60%,
        transparent 80%,
         rgb(1, 173, 253) 80%,
         rgb(1, 173, 253)100%
    );
    background-size:100% 200%;
    animation:equalizer 0.8s infinite linear;
    border-radius:4px;
    opacity:0.9;
}

@keyframes equalizer{
    0% { background-position:0% 0%; }
    100% { background-position:0% 100%; }
}


.actions{
    display:flex;
    gap:8px;
}



/* ===== PLAYER ===== */
.player-bar{
    background:rgb(1, 173, 253);
    backdrop-filter:blur(20px);
    padding:15px;
    display:flex;
    flex-direction:column;
    gap:10px;
}

.player-top{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.controls{
    display:flex;
    gap:15px;
}

.control-btn{
    background:white;
    border:none;
    padding:12px;
    border-radius:50%;
    cursor:pointer;
    transition:0.3s;
}

.control-btn:hover{
    transform:scale(1.1);
}

.playing{
    box-shadow:0 0 20px black;
}

.progress-container{
    display:flex;
    align-items:center;
    gap:8px;
    font-size:12px;
}

input[type="range"]{
    flex:1;
}

/* ===== DESKTOP ===== */
@media(min-width:768px){
    .app{
        flex-direction:row;
    }
    .playlist-section{
        width:60%;
    }
    .player-bar{
        width:40%;
        justify-content:center;
    }
}

.destaque{
    color:rgb(1, 173, 253);
    font-size:20px;
}

</style>
</head>
<body>

<!-- VIDEO DE FUNDO -->
<video autoplay muted loop playsinline class="video-bg">
    <!-- Coloque seu próprio vídeo aqui -->
    <source src="InShot_20260126_175047272.mp4" type="video/mp4">
</video>

<div class="overlay"></div>

<div class="app">

    <div class="playlist-section">
        <h2>Vitor Pereira <strong class="destaque">LIST.</strong></h2>
        <div class="music-list" id="musicList"></div>
    </div>

    <div class="player-bar">
        <div class="player-top">
            <div id="currentTitle">Nenhuma música selecionada</div>
            <div class="controls">
                <button class="control-btn" onclick="prevSong()">⏮</button>
                <button id="playBtn" class="control-btn" onclick="togglePlay()">▶</button>
                <button class="control-btn" onclick="nextSong()">⏭</button>
            </div>
        </div>

        <div class="progress-container">
            <span id="currentTime">0:00</span>
            <input type="range" id="progress" value="0">
            <span id="duration">0:00</span>
        </div>
    </div>

</div>

<audio id="audio"></audio>

<script>

let songs = JSON.parse(localStorage.getItem("songs")) || [
    { name:"Música 1", file:"ytmp3free.cc_kehlani-folded-a-colors-show-youtubemp3free (1).mp3" },
    { name:"Música 2", file:"musica2.mp3" },
    { name:"Música 3", file:"musica3.mp3" }
];

const audio = document.getElementById("audio");
const musicList = document.getElementById("musicList");
const playBtn = document.getElementById("playBtn");
const currentTitle = document.getElementById("currentTitle");
const progress = document.getElementById("progress");
const currentTimeEl = document.getElementById("currentTime");
const durationEl = document.getElementById("duration");

let currentIndex = -1;

function renderList(){
    musicList.innerHTML="";
    songs.forEach((song,index)=>{
        const div=document.createElement("div");
        div.classList.add("music-item");
        if(index===currentIndex) div.classList.add("active");

        div.innerHTML=`
            <div style="cursor:pointer; width:100%;" onclick="loadSong(${index})">
                ${song.name}
            </div>
        `;
        musicList.appendChild(div);
    });
}

function loadSong(index){
    currentIndex=index;
    audio.src=songs[index].file;
    audio.play();
    currentTitle.innerText=songs[index].name;
    playBtn.innerText="⏸";
    playBtn.classList.add("playing");
    renderList();
}

function togglePlay(){
    if(currentIndex===-1) return;
    if(audio.paused){
        audio.play();
        playBtn.innerText="⏸";
        playBtn.classList.add("playing");
    }else{
        audio.pause();
        playBtn.innerText="▶";
        playBtn.classList.remove("playing");
    }
}

function nextSong(){
    if(currentIndex < songs.length-1){
        loadSong(currentIndex+1);
    }
}

function prevSong(){
    if(currentIndex > 0){
        loadSong(currentIndex-1);
    }
}

audio.addEventListener("timeupdate",()=>{
    if(audio.duration){
        progress.value=(audio.currentTime/audio.duration)*100;
        currentTimeEl.innerText=formatTime(audio.currentTime);
        durationEl.innerText=formatTime(audio.duration);
    }
});

progress.addEventListener("input",()=>{
    if(audio.duration){
        audio.currentTime=(progress.value/100)*audio.duration;
    }
});

function formatTime(t){
    if(isNaN(t)) return "0:00";
    let m=Math.floor(t/60);
    let s=Math.floor(t%60);
    return m+":"+(s<10?"0"+s:s);
}

renderList();


</script>

</body>
</html>
